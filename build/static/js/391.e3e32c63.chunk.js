"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[391],{1607:function(n,e,t){t.d(e,{Z:function(){return d}});var i=t(1413),r=t(5987),l=(t(2791),t(184)),c=["label","color","className"];function d(n){var e=n.label,t=n.color,d=n.className,s=void 0===d?"":d,a=(0,r.Z)(n,c);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",(0,i.Z)((0,i.Z)({className:"px-2 py-0.5 bg-".concat(t," text-sm rounded-full ").concat(s)},a),{},{children:(0,l.jsx)("span",{children:e})}))})}},5212:function(n,e,t){var i=t(1413),r=t(5987),l=t(2791),c=t(2007),d=t.n(c),s=t(6907),a=t(184),o=["children","title","meta"],u=(0,l.forwardRef)((function(n,e){var t=n.children,l=n.title,c=void 0===l?"":l,d=n.meta,u=(0,r.Z)(n,o);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.ql,{children:[(0,a.jsx)("title",{children:"".concat(c," | fanticket")}),d]}),(0,a.jsx)("div",(0,i.Z)((0,i.Z)({ref:e},u),{},{children:t}))]})}));u.propTypes={children:d().node.isRequired,title:d().string,meta:d().node},e.Z=u},2821:function(n,e,t){t.d(e,{Z:function(){return s},i:function(){return a}});var i,r=t(168),l=t(7691),c=t(184),d=l.default.div(i||(i=(0,r.Z)(["\n    border-radius: 16px;\n    width: 100%;\n    cursor: pointer;\n    border: 1px;\n    border-style: solid;\n    border-color: transparent;\n\n    display: inline-flex;\n    justify-content: space-between;\n    position: relative;\n    background: linear-gradient(#1c1c1c, #1c1c1c) padding-box, linear-gradient(to bottom, #828282, #323232) border-box;\n"])));function s(n){return(0,c.jsx)(d,{className:null===n||void 0===n?void 0:n.className,children:(0,c.jsx)("div",{className:"w-full ".concat((null===n||void 0===n?void 0:n.isMessage)&&"bg-primary/30"," rounded-xl ").concat((null===n||void 0===n?void 0:n.hoverEvent)&&"hover:bg-primary/20"," "),onClick:null===n||void 0===n?void 0:n.onClick,children:n.children})})}var a=function(n){var e=n.cls,t=void 0===e?"":e;return(0,c.jsx)("div",{className:"divider overflow-hidden ".concat(t),style:{height:1}})}},9242:function(n,e,t){t.d(e,{Z:function(){return s}});var i,r=t(168),l=t(7691),c=t(184),d=l.default.div(i||(i=(0,r.Z)(["\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    position: relative;\n    &:before {\n        content: '';\n        background-image: linear-gradient(0deg, #1c1c1c 24.45%, rgba(28, 28, 28, 0) 84.89%),\n            ",";\n\n        z-index: -1;\n        position: absolute;\n        background-size: cover;\n        background-repeat: no-repeat;\n        -webkit-filter: grayscale(100%) blur(17.5px);\n        filter: grayscale(100%) blur(17.5px);\n        background-position: center;\n        width: 100%;\n        height: 100%;\n    }\n"])),(function(n){return n.cover||'url("/images/background/main-banner-bg.jpg")'}));function s(n){return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsx)(d,{className:"pt-40",children:n.children})})}},9623:function(n,e,t){t.r(e),t.d(e,{default:function(){return y}});var i=t(7762),r=t(9439),l=t(2791),c=t(7689),d=t(1087),s=t(3197),a=t(9615),o=t(1539),u=t(5212),v=t(9242),f=t(2711),h=t(7870),x=t(7834),m=t(2654),p=t(2821),g=t(1607),j=t(184);function b(n){var e=n.channel,t=n.type,i=void 0===t?"received":t,r=n.handleGoConversation,l=(0,o.Z)().t,c=(0,x.Z)().user;function d(n){return n.filter((function(n){return!n.readed&&n.sender!==(null===c||void 0===c?void 0:c._id)})).length}return(0,j.jsx)("div",{className:"w-full cursor-pointer",onClick:function(){"received"===i&&r()},children:(0,j.jsxs)(p.Z,{hoverEvent:"received"===i,children:[(0,j.jsx)(g.Z,{label:null!==e&&void 0!==e&&e.dispute?"Dispute":"Discuss Price",color:null!==e&&void 0!==e&&e.dispute?"red-500":"warning",className:"absolute right-3 top-3"}),(0,j.jsxs)("div",{className:"flex gap-2 justify-between p-6 items-center",children:[(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsx)("h5",{className:"text-2xl",children:null===e||void 0===e?void 0:e.eventName}),(0,j.jsxs)("p",{className:"text-stone-400",children:[null===e||void 0===e?void 0:e.eventType," - ",null===e||void 0===e?void 0:e.count," ",l("title.tickets")]}),(0,j.jsx)("p",{className:"mt-3",children:(0,m.UX)(null===e||void 0===e?void 0:e.eventDate)}),"sent"===i&&(0,j.jsxs)("h6",{children:["R$ ",(0,h.FK)(null===e||void 0===e?void 0:e.buyerPrice)," - suggested"]})]}),(0,j.jsxs)("div",{children:["received"===i&&0!==d(null===e||void 0===e?void 0:e.chats)&&(0,j.jsx)("div",{className:"px-3 py-1 flex justify-center items-center text-primary underline",children:(0,j.jsx)("p",{children:"".concat((0,h.FK)(d(null===e||void 0===e?void 0:e.chats))," ").concat(l("description.unread_msg"))})}),"received"===i&&0!==(null===e||void 0===e?void 0:e.chats.length)&&0===d(null===e||void 0===e?void 0:e.chats)&&(0,j.jsxs)("div",{className:"flex gap-2 items-center px-6 pb-4 md:p-0",children:[(0,j.jsx)("p",{children:l("title.read")}),(0,j.jsx)("button",{className:"btn btn-circle btn-outline btn-sm bg-secondary border-secondary text-primary",children:(0,j.jsx)(f.JO,{icon:"iconamoon:check-bold"})})]}),"sent"===i&&(0,j.jsx)("button",{className:"btn btn-sm btn-primary",onClick:r,disabled:"open"!==(null===e||void 0===e?void 0:e.status),children:l("action.chat")})]})]})]})})}function y(){var n=(0,o.Z)().t,e=(0,l.useState)([]),t=(0,r.Z)(e,2),f=t[0],h=t[1],x=(0,l.useState)([]),m=(0,r.Z)(x,2),p=m[0],g=m[1],y=(0,c.s0)(),N=function(n,e){y("/conversation/yard/".concat(null===n||void 0===n?void 0:n.ticketId,"/").concat(e))};return(0,l.useEffect)((function(){a.Z.get(s.U7.getMyChannels).then((function(n){if(200===n.status){var e,t,r,l,c,d=[],s=(0,i.Z)((null===(r=n.data)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.received)||[]);try{var a=function(){var n,e,t=c.value,i=d.filter((function(n){return n.ticketId===t.ticketId}));i.length>0&&t.dispute===i[0].dispute?null===(n=i[0])||void 0===n||null===(e=n.users)||void 0===e||e.push(null===t||void 0===t?void 0:t.sender):(t.users=[t.sender],d.push(t))};for(s.s();!(c=s.n()).done;)a()}catch(o){s.e(o)}finally{s.f()}h(d),g(null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.sent)}}))}),[]),(0,j.jsxs)(u.Z,{title:"Ticket Conversation",children:[(0,j.jsx)(v.Z,{children:(0,j.jsxs)("div",{className:"container px-2 max-w-4xl",children:[(0,j.jsxs)("div",{className:"flex gap-4 w-full mb-8",children:[(0,j.jsx)(d.rU,{to:"../",className:"text-primary cursor-pointer underline",children:n("title.menu.profile")}),(0,j.jsx)("div",{children:"/"}),(0,j.jsx)("div",{className:"grid grid-cols-2 text-stone-400",children:(0,j.jsx)("p",{children:n("title.menu.conversation")})})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,j.jsx)("h3",{className:"text-4xl md:text-[64px]",children:n("title.menu.conversation")}),!(null!==f&&void 0!==f&&f.length)&&!(null!==p&&void 0!==p&&p.length)&&(0,j.jsx)("p",{className:"text-stone-400 md:w-1/2",children:n("description.conversation")})]})]})}),(0,j.jsxs)("div",{className:"container px-2 mt-12 w-full",children:[0!==f.length&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h5",{className:"text-2xl  mb-2",children:n("title.received_channel")}),(0,j.jsx)("div",{className:"flex gap-4 mb-8 flex-wrap",children:null===f||void 0===f?void 0:f.map((function(n,e){return(0,j.jsx)("div",{className:"w-full",children:(0,j.jsx)(b,{channel:n,type:"received",handleGoConversation:function(){return N(n,"received")}})},e)}))})]}),0!==p.length&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h5",{className:"text-2xl mb-2",children:n("title.sent_channel")}),(0,j.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mb-8 flex-wrap",children:null===p||void 0===p?void 0:p.map((function(n,e){return(0,j.jsx)("div",{className:"w-full",children:(0,j.jsx)(b,{channel:n,type:"sent",handleGoConversation:function(){return N(n,"sent")}})},e)}))})]})]})]})}},7870:function(n,e,t){t.d(e,{FK:function(){return c},e_:function(){return l},v1:function(){return d}});var i=t(6098),r=t.n(i);function l(n){return r()(n).format(Number.isInteger(n)?"$0,0":"$0,0.00")}function c(n){return r()(n).format()}function d(n){return r()(n).format("0.00a").replace(".00","")}},2654:function(n,e,t){t.d(e,{DY:function(){return s},UX:function(){return a},gC:function(){return c},uW:function(){return l},xD:function(){return o},zM:function(){return d}});var i=t(9158),r=t(5939);function l(n){return n.containsTime?d(n.dateTime):c(n.dateTime)}function c(n){return(0,i.Z)(new Date(n),"dd MMM yyyy")}function d(n){return(0,i.Z)(new Date(n),"dd MMM yyyy HH:mm")}function s(n){try{return(0,r.Z)(new Date(n),{addSuffix:!0})}catch(e){return"Invaild Date"}}function a(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{return e?(0,i.Z)(new Date(n),"EEEE dd, MMMM, yyyy p"):(0,i.Z)(new Date(n),"EEEE dd, MMMM, yyyy")}catch(t){return"".concat(n)}}function o(n){try{return(0,i.Z)(new Date(n),"MMM, dd EEE")}catch(e){return"".concat(n)}}}}]);
//# sourceMappingURL=391.e3e32c63.chunk.js.map